{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/05_2023_retrospect/",
    "result": {"data":{"cur":{"id":"23e28dcb-4607-5eb9-9ac4-a397380f8825","html":"<h2 id=\"개발자로서-첫-퇴사\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%A1%9C%EC%84%9C-%EC%B2%AB-%ED%87%B4%EC%82%AC\" aria-label=\"개발자로서 첫 퇴사 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발자로서 첫 퇴사</h2>\n<p>스타트업 칼바람이 불고 있었다. 다니고 있던 회사도 이를 피하지 못했고, 전사 회의에서 불안한 재정 상황에 대해 설명했다. 몇개월 후, 20명이 넘던 프로덕팀 모두 회사를 나왔다.</p>\n<p>동료분들이 몇 회사와 커피챗을 마련해주었다. 이때, 저연차 프론트엔드 개발자에게 통상적으로 요구되는 지식 레벨보다 한참 모자란 상태라는 것을 알게 됐다. 잘 짜여진 코드베이스 위에서 그때 그때 요구 사항에 따라 적절히 변형하고, QA받고, 배포했던 나날들이 스쳐지나갔다. 큰 고민없이 결과물만 빠르게 만들던 날들에 발등을 찍혀버렸다.</p>\n<p>이후 회사에서 사용했던 스택들이 어떤 특성이 있고, 사용해본 API는 뭐가 있으며, 어떤 문제를 해결하고 구동 원리는 무엇인지에 대해 공부했다. 늦었다고 생각했지만, 공부해가면서 ‘오히려 좋아’를 외쳤다. 우물 안 개구리처럼 아무것도 모른채로 스스로 만족하며 연차가 쌓였을 것을 생각하면 아찔했기 때문이다.</p>\n<h2 id=\"두번째-회사-입사-처음-본-것-투성이\" style=\"position:relative;\"><a href=\"#%EB%91%90%EB%B2%88%EC%A7%B8-%ED%9A%8C%EC%82%AC-%EC%9E%85%EC%82%AC-%EC%B2%98%EC%9D%8C-%EB%B3%B8-%EA%B2%83-%ED%88%AC%EC%84%B1%EC%9D%B4\" aria-label=\"두번째 회사 입사 처음 본 것 투성이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>두번째 회사 입사, 처음 본 것 투성이</h2>\n<h3 id=\"도메인-로직이-분리된-소스코드를-처음-보다\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81%EC%9D%B4-%EB%B6%84%EB%A6%AC%EB%90%9C-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%B2%98%EC%9D%8C-%EB%B3%B4%EB%8B%A4\" aria-label=\"도메인 로직이 분리된 소스코드를 처음 보다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도메인 로직이 분리된 소스코드를 처음 보다</h3>\n<p>개념 공부를 하며 면접 준비를 하니 결국 기회를 얻을 수 있었다. 프론트엔드에서 도메인 로직이 UI와 완전히 분리된 코드를 처음 봤다. 도메인 디렉토리 하위에는 모델, 레포지토리, 서비스 등으로 구분되어 있었다. 모두 생소한 개념이었다. 리액트를 사용한 UI 구현부는 도메인과 같은 레벨에서 프레젠테이션이라는 이름으로 분리되어 있었다. 이를 계기로 아키텍쳐에 관심을 갖고 공부하기 시작했다. 당시 운 좋게 회사에서 책 클린 아키텍쳐 스터디를 진행했고, 여기 참여하며 낯선 코드에 대한 이해도를 조금씩 높여나갈 수 있었다.</p>\n<h3 id=\"번역-하나-추가되었을-뿐인데\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%97%AD-%ED%95%98%EB%82%98-%EC%B6%94%EA%B0%80%EB%90%98%EC%97%88%EC%9D%84-%EB%BF%90%EC%9D%B8%EB%8D%B0\" aria-label=\"번역 하나 추가되었을 뿐인데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번역 하나 추가되었을 뿐인데</h3>\n<p>글로벌 진출을 염두에 둔 프로덕트였기 때문에 번역이 필수였다. i18next를 이때 처음 사용해봤다. 영어와 한글의 어순이 다르다보니 설계 시 고려해야하는 부분이 있다는 것을 알았고, QA에서도 번역이 잘 되었는지 검수하는 과정이 추가되었다. 디자인 역시 영어로 변경했을 때 글자가 길어지는 경우가 있기 때문에 ellipsis 같은 처리가 항상 고려되어야 했다. 영어와 한글 2가지만 대응했지만 이후 다른 언어를 추가로 대응한다고 했을 때, 쉽지 않겠다는 생각을 했다. 한/영을 제외한 언어를 대응하는 프로덕트를 한국에서 만나기 쉽지 않을 것이기 때문에 필요성이 커지면 그때 좀 더 고민해봐야겠다.</p>\n<h3 id=\"의존성-그래프를-보는-재미\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EA%B7%B8%EB%9E%98%ED%94%84%EB%A5%BC-%EB%B3%B4%EB%8A%94-%EC%9E%AC%EB%AF%B8\" aria-label=\"의존성 그래프를 보는 재미 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>의존성 그래프를 보는 재미</h3>\n<p>프론트 테크리드님의 제안으로 nx를 사용해 소스코드를 분리하는 작업이 있었다. 이미 도메인이 적절하게 분리되어있었기 때문에 큰 어려움은 없을 것이라 판단했으나, 역시나 얽히고 설킨 곳이 존재했다. 분리하며 고생하시는 리드님과 동료분을 보며 패키지 분리란 쉽지 않은 것이구나라는 것을 느꼈다. 이후 피쳐 개발을 하며 A라는 패키지 분리를 해보았다.  app으로 볼 수 있는 패키지가 2개 있었는데, 이 2개의 app은 서로를 의존하면 안되고 다른 패키지가 app을 바라보고 있어서도 안됐다. 분리한다고 했는데, 자꾸 circular dependency 에러가 떴다. 이때 nx graph라는 명령어를 통해 패키지별 의존성을 눈으로 확인하며 작업했다.\ngraph에서 의존 방향을 나타내는 화살표를 클릭하면 어느 파일에서 의존하고 있는지까지 확인할 수 있다. 이를 사용해 불필요한 의존이 있는 코드를 찾아내 손쉽게 삭제할 수 있었다. 그러나 분명히 graph 에서 표시된 파일에서 의존성을 삭제해도 graph에 반영되지 않는 이슈가 있었다. 숨은 의존성이 있나 아무리 찾아봐도 별다른게 보이지 않았다. 혹시 몰라 nx 캐시를 지워보니 잘 작동하는 것 아닌가. 캐시에 의존성이 숨어있던 것이었다(?). 즐거운 삽질이었다.</p>\n<h3 id=\"원팀-스피릿을-느낄-수-있는-유저-스토리-매핑-헤븐-미팅\" style=\"position:relative;\"><a href=\"#%EC%9B%90%ED%8C%80-%EC%8A%A4%ED%94%BC%EB%A6%BF%EC%9D%84-%EB%8A%90%EB%82%84-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%9C%A0%EC%A0%80-%EC%8A%A4%ED%86%A0%EB%A6%AC-%EB%A7%A4%ED%95%91-%ED%97%A4%EB%B8%90-%EB%AF%B8%ED%8C%85\" aria-label=\"원팀 스피릿을 느낄 수 있는 유저 스토리 매핑 헤븐 미팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>원팀 스피릿을 느낄 수 있는 유저 스토리 매핑, 헤븐 미팅</h3>\n<p>개발, 디자인, CX, 마케팅, 데이터의 모든 팀원이 모여 <a href=\"https://spoqa.github.io/design-toolkit/project/user-story-map\">유저 스토리 매핑</a>이라는 것을 했다. 이후 진행될 사이클의 큰 그림을 그리기 위한 자리다. 프로덕트의 방향성과 동작에 대해 다같이 높은 얼라인을 맞출 수 있는 활동이다. 이전 회사는 PM 조직에서 기획을 마무리하고 개발 조직에서 된다/안된다 의견을 주는 방식이 대다수였다. 그러나 여기선 모든 팀원의 의견이 프로덕트에 바로 반영될 수 있었다. 합류한지 얼마 안된 신입에게 도메인을 빠르게 이해할 수 있었던 소중한 경험이었다.</p>\n<p>사이클을 시작하기 전에는 헤븐 미팅이라는 것을 했다. 원래는 목적을 달성할 때까지 끝나지 않는 미팅이라는 의미로 헬 미팅이었는데, 어감이 좋지 않아 헤븐으로 바뀌었다고 한다. ㅋㅋ 여기선 이번 사이클에 개발될 피쳐가 대략 정해져 있고 디자인이 공유된다. 팀원 모두 의견을 내며 더 나은 UI/UX를 제안하거나, 구현 가능 여부에 대해 논의한다. 이 미팅에서 개발팀의 의견이 중요해진다. 합류한지 얼마 안된 시점에는 기존 팀원들에게서 반감을 살 수 있다는 생각에 의견 내기가 조심스러웠다. 코드도 익숙하지 않았기 때문에 그 자리에서 디자인을 보고 구현 된다, 안된다의 가늠을 해보기도 쉽지 않았다. ‘윤지님 의견은 어때요?‘와 같은 질문이 들어오면 많이 당황했다. 틀린 대답을 하면 어떡하지와 같은 불안감으로 질문 받기가 무서웠다. 하지만 시간이 지날수록 팀원들과 유대 관계가 형성되고 코드도 더 익숙해지면서 불안감을 많이 내려놓고 의견을 낼 수 있었다. 여전히 떨리긴 했지만, 모든 것을 다 알 순 없고 틀려도 괜찮다는 마인드 컨트롤을 배웠다. 정말 모르겠는건 코드를 좀 봐야할 것 같다고 솔직하게 말하고, 다른 것들은 일단 의견을 내고 나중에라도 ‘엇 알고보니 이렇네요’라고 빠르게 수정할 수만 있으면 된다고 생각했다. 그러니 미팅 자리가 편해졌고 질문이 들어와도 덜 당황할 수 있었다.</p>\n<h2 id=\"새로운-피쳐-개발의-시작\" style=\"position:relative;\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%94%BC%EC%B3%90-%EA%B0%9C%EB%B0%9C%EC%9D%98-%EC%8B%9C%EC%9E%91\" aria-label=\"새로운 피쳐 개발의 시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>새로운 피쳐 개발의 시작</h2>\n<p>합류하게 된 팀은 B2B SaaS 비즈니스를 전개하고 있었다. 기업의 복잡한 세일즈 퍼널을 간단하게 관리할 수 있게하는 세일즈 자동화 툴을 개발했고, 궁극적으로 고객사의 미팅 전환율을 높여주고자 했다. 전환율을 높여주는 여러 기능 중 핵심은 고객사 도입문의 페이지에 임베딩하는 것이었다. 임베딩된 코드는 도입문의 form의 submit 버튼에 연동되어 고객사의 잠재 고객이 제출하기 버튼을 클릭하면 세일즈맨과 바로 미팅을 잡을 수 있게 해준다.\n합류한 시점에는 리드(=잠재고객) 라우터라는 피쳐를 구현하면 됐다. 리드 라우터는 form 내부 여러 input 값에 따라 규칙을 설정하고 그에 맞는 세일즈맨 또는 세일즈 그룹을 배정할 수 있는 기능이다. 아래 그림은 리드 라우터에서 규칙 설정 부분의 UI 예시이다. 네모 박스를 노드, 흰 선을 엣지라고 표현했고, 노드 안에 input 값 별 배정 규칙이 들어갔다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQY03WRW27bQAxFtYe2adXEthSNNA/OcMYPOXKcOHARoCm6//WcwnIa9KcfByRB8oK4rHaPzzy9vrEZ92y3G6ZpQkRmNmtlt83vKCXHay9GYowfc/9SleKJGrg397RdQwienDOlKK+/f3J6+8XD+czxx5njYU3wFmct3jtCCO/4j7wyw0DUxLJZcFPf0A89IpGUhE0e6LoV9bdPLBY16hoeDyMv5ydOp4n9Ns2XalmTVEkpUXXWkory/a7my9fP9P1V0PtAEodGR/QD4vs5HqbCej/SOUdJht24Zzy+oCXjnKUyxuCDZ9UsqW9rrB3IKmgSssY5v3h3IedEkRbpbzFNjQxLvLO0bYPpDU27orosRvFkDZQsM5rCLJiizL7IX+RSX83/31P+AN8XtPBsyJb+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"node-based-graph-example\"\n        title=\"node-based-graph-example\"\n        src=\"/static/b705b82af6a255d1c83f4632a47d3ac6/37523/11_node-based-graph-example.png\"\n        srcset=\"/static/b705b82af6a255d1c83f4632a47d3ac6/e9ff0/11_node-based-graph-example.png 180w,\n/static/b705b82af6a255d1c83f4632a47d3ac6/f21e7/11_node-based-graph-example.png 360w,\n/static/b705b82af6a255d1c83f4632a47d3ac6/37523/11_node-based-graph-example.png 720w,\n/static/b705b82af6a255d1c83f4632a47d3ac6/302a4/11_node-based-graph-example.png 1080w,\n/static/b705b82af6a255d1c83f4632a47d3ac6/d7e70/11_node-based-graph-example.png 1286w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"어서와-설계-미팅은-처음이지\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EC%84%9C%EC%99%80-%EC%84%A4%EA%B3%84-%EB%AF%B8%ED%8C%85%EC%9D%80-%EC%B2%98%EC%9D%8C%EC%9D%B4%EC%A7%80\" aria-label=\"어서와 설계 미팅은 처음이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어서와 설계 미팅은 처음이지?</h3>\n<p>프로덕트 내에서 리드 라우터의 중요도가 높고 스콥도 컸기 때문에 스프린트는 두개로 나뉘었다. 개발 시작 전, 설계 미팅이 있었다. 고객사가 도입문의 form의 input들을 입력하고 그에 맞게 배정 규칙을 설정하고, 설정된 규칙에 따라 올바른 세일즈맨 그룹이 배정되어야 했다. 이미 복잡도가 높은 기획에서 프론트와 서버에서 각기 다른 라우팅 구현체를 만들어 사용하면 얼라인이 어렵고, 문제가 생겼을 때 디버깅하기 힘들어질 것이란 의견이 나왔다. 그래서 라우팅 구현을 담당하는 라이브러리를 만들고 이를 프론트와 서버에서 동일하게 사용하기로 했다. 시니어 개발자의 경험에서 우러나온 멋들어진 제안에 감탄하지 않을 수 없었다. 라이브러리를 직접 만들진 않았지만, 시니어 두 분이 만들어가는 과정을 보는건 아주 흥미롭고 재밌었다.</p>\n<h3 id=\"노드와-배정-규칙과-함께-춤을\" style=\"position:relative;\"><a href=\"#%EB%85%B8%EB%93%9C%EC%99%80-%EB%B0%B0%EC%A0%95-%EA%B7%9C%EC%B9%99%EA%B3%BC-%ED%95%A8%EA%BB%98-%EC%B6%A4%EC%9D%84\" aria-label=\"노드와 배정 규칙과 함께 춤을 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>노드와 배정 규칙과 함께 춤을</h3>\n<p>첫번째 스프린트에서 맡은 기능은 배정 규칙이 표시되는 노드와 그 노드를 수정하는 모달이었다. 고객사 도입문의 페이지 form의 input 타입에 따라 설정할 수 있는 규칙이 달라져야했다. 간단한 예로 checkbox일 땐, true, false 오직 두 개만 규칙으로 설정할 수 있다던가, number일 땐, ~보다 큰 경우, ~보다 작은 경우, ~와 ~ 사이인 경우 등 수와 관련된 규칙으로 설정할 수 있어야 했다.\n프로덕트에서 antd 라는 UI 라이브러리를 사용하고 있었다. react-hook-form으로 폼을 다뤄본 적이 있었는데 비슷한 기능을 antd Form에서도 제공하고 있었다. 규칙 인풋 리스트를 관리하기 위해 Form.List라는 컴포넌트를 사용했다. 기존에 폼을 관리하는 매니저를 직접 구현해 사용하고 있었는데, 이는 새롭게 만들어야 하고 익혀야 한다는 부담감에 라이브러리 api를 사용하게 됐다. 기회가 된다면 둘을 비교하는 글을 작성해보려고 한다.\n타입에 따른 컴포넌트 분기 처리가 필요했다. 인풋별 타입을 만들고 그에 해당하는 규칙을 설정할 수 있는 컴포넌트를 각각 만들었다. 타입 가드를 활용해 컴포넌트 분기 처리를 했는데, 나중에 발생한 버그로 문제가 있다는 것을 알게 됐다. 타입 가드는 체가름과 같기 때문에 어떤 타입부터 필터링 할 것인지에 따라 결과가 다르게 나온다는 것을 고려하지 못했다.\n이때 타입 가드를 순서 고려 없이 사용하려면 원시 타입 설계가 중요하고, 애초에 타입 가드만으로 타입을 분리하기 보다는 원시 데이터에서 타입을 지정해서 내려주는 것이 프론트 작업이 편하다는것을 깨달았다.</p>\n<h3 id=\"삐그덕대는-몸둥아리를-끌며-춤을\" style=\"position:relative;\"><a href=\"#%EC%82%90%EA%B7%B8%EB%8D%95%EB%8C%80%EB%8A%94-%EB%AA%B8%EB%91%A5%EC%95%84%EB%A6%AC%EB%A5%BC-%EB%81%8C%EB%A9%B0-%EC%B6%A4%EC%9D%84\" aria-label=\"삐그덕대는 몸둥아리를 끌며 춤을 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>삐그덕대는 몸둥아리를 끌며 춤을</h3>\n<p>두번째 스프린트에 참여했다. 위에서 만든 라우터 라이브러리가 빛을 발하는 순간이 왔다. 바로 라우팅 테스트 기능이었다. 유저가 라우터를 만들고 제대로 동작하는지 확인하기 위해 테스트 기능이 필요했다. 테스트할 때마다 서버 통신을 하지 않아도 공통 라이브러리를 사용하면 서버와 결과값이 다를지도 모른다는 의심을 하지 않아도된다. (이렇게 편할수가) 테스트 기능을 맡아 개발하면서 라우터 라이브러리를 제대로 파볼 수 있었다.\n그러나 UI 그려주는 작업만 하다가, 라우터 코어 로직과 관련된 작업을 하려니 쉽지 않았다. 엎친데 덮친 격으로 프론트팀원들의 휴가 기간이 겹쳤고, 라이브 배포를 혼자 해야하는 상황이 만들어졌다. 배포는 혼자 해볼 수 있겠다고 생각했지만, 라우팅 테스트 기능을 기한 내에 만들 수 있을지 명확하지 않았다. 이 상태로 가면 코드 리뷰 없이 기능을 배포해야했다. 일단 기본 동작만 돌아가게끔 코드를 작성하고 코어 로직을 작성한 팀원의 휴가 이틀 전, SOS를 구했다. 함께 야근하며 코드를 리팩토링하고 구현하지 못한 기능까지 마무리할 수 있었다. 최종적으로 라우터 라이브러리를 사용해 테스트 결과를 trace라는 배열에 담아 리턴해주는 모듈과 그 값을 받아 테스트 결과를 그려주는 UI 라이브러리를 조작하는 모듈을 분리할 수 있었다. 혼자서 리팩토링하며 책임과 역할을 분리하는 것이 어려웠겠지만 도와준 팀원 덕에 만족할만한 수준으로 마무리할 수 있었다. 야속하게 팀원들은 모두 떠났고 야근은 계속 됐고, 항상 택시를 타고 퇴근하는 일상을 경험하게 됐다. 라이브 배포 전 QA를 혼자 쳐내며 내 실력이 부족해서 이런 시련을 겪는 것인지, 상황이 이렇게 굴러가도록 만든 모든 것들이 주마등처럼 스쳐지나갔다. 남아있는 팀원들의 배려로 배포 날짜는 금요일에서 다음주 월요일로 밀렸다. 주말 근무를 달리고, 결국 라이브 배포를 할 수 있었다.</p>\n<h3 id=\"내가-싼-똥은-내가-치우자\" style=\"position:relative;\"><a href=\"#%EB%82%B4%EA%B0%80-%EC%8B%BC-%EB%98%A5%EC%9D%80-%EB%82%B4%EA%B0%80-%EC%B9%98%EC%9A%B0%EC%9E%90\" aria-label=\"내가 싼 똥은 내가 치우자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>내가 싼 똥은 내가 치우자</h3>\n<p>배포 후 아쉬웠던 코드를 리팩토링했다. 혼자 난리치며 짜깁기한 코드들의 수술이 필요한 상태였다. 라우터를 저장하는 로직이 presentation에 정의되어 있었다. 저장하기 전에 유효성 체크를 하고, api를 호출하는 역할은 도메인과 밀접한 기능이라고 판단되었다. 그래서 관련 코드 전부를 domain 하위로 이동시키고, presentation에서는 저장하기 성공/실패 여부만 알 수 있게 해 그에 따른 UI를 보여줄 수 있도록 수정했다. 또 저장하기 로직에서 발생하는 알 수 없는 에러가 하나의 alert으로 노출되고 있었다. 이 에러가 api 호출에서 발생하는지, 라우터 라이브러리에서 발생하는지 구분하여 디버깅에 좀 더 용이하도록 수정했다.</p>\n<h2 id=\"두번째-회사를-마무리하며\" style=\"position:relative;\"><a href=\"#%EB%91%90%EB%B2%88%EC%A7%B8-%ED%9A%8C%EC%82%AC%EB%A5%BC-%EB%A7%88%EB%AC%B4%EB%A6%AC%ED%95%98%EB%A9%B0\" aria-label=\"두번째 회사를 마무리하며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>두번째 회사를 마무리하며</h2>\n<p>첫 회사는 도메인이 단순했고 복잡한 설계가 필요한 프로덕트가 아니었다. 이번 회사는 SaaS 이기도 했고 복잡한 도메인을 추상화하는 아키텍쳐 설계가 필요했다. 첫 회사에서 해볼 수 없는 경험을 통해 단기간에 많은 것을 배우고 성장할 수 있었다. 도메인 로직 분리의 필요성에 대해 고민하게 되면서, 앱 전체적인 관점이 아닌 React 컴포넌트에서도 변경이 쉬운 컴포넌트를 설계하려면 어떻게 해야할까 고민하게 되는 출발점이 되었다.</p>\n<p>QA 조직이 있는 곳과 없는 곳에서 개발자의 책임은 다르다는 것을 느꼈다. QA 조직 없이 팀원 모두 QA를 함께 해야하는 상황이고, 그 팀원들은 각자 메인 롤이 있다. 개발자가 많아질수록 티켓이 늘어나기 때문에 QA 요청도 그에 따라 늘어나게 된다. QA 피로도가 충분히 쌓일 수 있는 상황이고, 이로 인한 부실한 QA가 이루어지기도 한다. 때문에 개발자가 최대한 꼼꼼하게 챙겨야한다는 생각을 했고, QA를 해주는 팀원들의 공수를 낮추기 위해 환경을 미리 세팅하고, 어떤 부분이 새롭게 개발되었는지 세세하게 공유했다. 서로 배려할수록 원팀의 시너지가 났고, 팀원들의 아낌없는 격려와 칭찬으로 노력이 헛되지 않았음을 느낄 수 있었다.</p>\n<p>주니어로 합류한 회사였고, 기술적으로 배울 점이 많은 시니어 분들이 계셔서 듬직했다. 그러나 내가 관심있는 분야가 아니면 몰입하기 쉽지 않다는 것을 느꼈다. 이미 동료들은 하나의 목표를 가지고 앞만 보고 달려나가고 있는데, 나만 다른 방향을 보는 느낌이 들었다. HR이나 개발 프로세스와 같이 체계가 잡혀있는 곳에서 일하다가 없는 곳에서 일하는 것 또한 쉽지 않았다. 누군가에겐 장점이 되겠지만 누군가에겐 제약이 될 수 있다. 일을 하면 할수록 나의 장점을 드러내기 어려운 환경과 조직 문화라는 것을 느꼈다. 나의 장점은 기존 체계에 빠르게 적응하고 남들이 놓칠 수 있는 부분을 꼼꼼하게 챙기고 원활한 커뮤니케이션을 하는 것인데, 이런 것들을 제대로 하지 못하고 있었다. 내가 못하는 것에 매몰되어 자신감을 잃는것보다는 잘 하는것을 더 성장시키고자 3개월 7일을 끝으로 각자의 길을 가게 되었다. 분명 개발적으로나 비즈니스적으로나 배울 부분이 많았고 지금도 아쉬운 마음이 들지만, 좀 더 성장한 이후에 기여할 수 있는 방향이 명확해지면 그때 다시 힘을 합쳐보고 싶다.</p>\n<p>나와 맞는 회사를 찾아 다시 한번 딥 다이브 해야지!</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%A1%9C%EC%84%9C-%EC%B2%AB-%ED%87%B4%EC%82%AC\">개발자로서 첫 퇴사</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%91%90%EB%B2%88%EC%A7%B8-%ED%9A%8C%EC%82%AC-%EC%9E%85%EC%82%AC-%EC%B2%98%EC%9D%8C-%EB%B3%B8-%EA%B2%83-%ED%88%AC%EC%84%B1%EC%9D%B4\">두번째 회사 입사, 처음 본 것 투성이</a></p>\n<ul>\n<li><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A1%9C%EC%A7%81%EC%9D%B4-%EB%B6%84%EB%A6%AC%EB%90%9C-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%B2%98%EC%9D%8C-%EB%B3%B4%EB%8B%A4\">도메인 로직이 분리된 소스코드를 처음 보다</a></li>\n<li><a href=\"#%EB%B2%88%EC%97%AD-%ED%95%98%EB%82%98-%EC%B6%94%EA%B0%80%EB%90%98%EC%97%88%EC%9D%84-%EB%BF%90%EC%9D%B8%EB%8D%B0\">번역 하나 추가되었을 뿐인데</a></li>\n<li><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EA%B7%B8%EB%9E%98%ED%94%84%EB%A5%BC-%EB%B3%B4%EB%8A%94-%EC%9E%AC%EB%AF%B8\">의존성 그래프를 보는 재미</a></li>\n<li><a href=\"#%EC%9B%90%ED%8C%80-%EC%8A%A4%ED%94%BC%EB%A6%BF%EC%9D%84-%EB%8A%90%EB%82%84-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%9C%A0%EC%A0%80-%EC%8A%A4%ED%86%A0%EB%A6%AC-%EB%A7%A4%ED%95%91-%ED%97%A4%EB%B8%90-%EB%AF%B8%ED%8C%85\">원팀 스피릿을 느낄 수 있는 유저 스토리 매핑, 헤븐 미팅</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%94%BC%EC%B3%90-%EA%B0%9C%EB%B0%9C%EC%9D%98-%EC%8B%9C%EC%9E%91\">새로운 피쳐 개발의 시작</a></p>\n<ul>\n<li><a href=\"#%EC%96%B4%EC%84%9C%EC%99%80-%EC%84%A4%EA%B3%84-%EB%AF%B8%ED%8C%85%EC%9D%80-%EC%B2%98%EC%9D%8C%EC%9D%B4%EC%A7%80\">어서와 설계 미팅은 처음이지?</a></li>\n<li><a href=\"#%EB%85%B8%EB%93%9C%EC%99%80-%EB%B0%B0%EC%A0%95-%EA%B7%9C%EC%B9%99%EA%B3%BC-%ED%95%A8%EA%BB%98-%EC%B6%A4%EC%9D%84\">노드와 배정 규칙과 함께 춤을</a></li>\n<li><a href=\"#%EC%82%90%EA%B7%B8%EB%8D%95%EB%8C%80%EB%8A%94-%EB%AA%B8%EB%91%A5%EC%95%84%EB%A6%AC%EB%A5%BC-%EB%81%8C%EB%A9%B0-%EC%B6%A4%EC%9D%84\">삐그덕대는 몸둥아리를 끌며 춤을</a></li>\n<li><a href=\"#%EB%82%B4%EA%B0%80-%EC%8B%BC-%EB%98%A5%EC%9D%80-%EB%82%B4%EA%B0%80-%EC%B9%98%EC%9A%B0%EC%9E%90\">내가 싼 똥은 내가 치우자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%91%90%EB%B2%88%EC%A7%B8-%ED%9A%8C%EC%82%AC%EB%A5%BC-%EB%A7%88%EB%AC%B4%EB%A6%AC%ED%95%98%EB%A9%B0\">두번째 회사를 마무리하며</a></p>\n</li>\n</ul>\n</div>","excerpt":"개발자로서 첫 퇴사 스타트업 칼바람이 불고 있었다. 다니고 있던 회사도 이를 피하지 못했고, 전사 회의에서 불안한 재정 상황에 대해 설명했다. 몇개월 후, 20명이 넘던 프로덕팀 모두 회사를 나왔다. 동료분들이 몇 회사와 커피챗을 마련해주었다. 이때, 저연차 프론트엔드 개발자에게 통상적으로 요구되는 지식 레벨보다 한참 모자란 상태라는 것을 알게 됐다. 잘 짜여진 코드베이스 위에서 그때 그때 요구 사항에 따라 적절히 변형하고, QA받고, 배포했던 나날들이 스쳐지나갔다. 큰 고민없이 결과물만 빠르게 만들던 날들에 발등을 찍혀버렸다. 이후 회사에서 사용했던 스택들이 어떤 특성이 있고, 사용해본 API는 뭐가 있으며, 어떤 문제를 해결하고 구동 원리는 무엇인지에 대해 공부했다. 늦었다고 생각했지만, 공부해가면서 ‘오히려 좋아’를 외쳤다. 우물 안 개구리처럼 아무것도 모른채로 스스로 만족하며 연차가 쌓였을 것을 생각하면 아찔했기 때문이다. 두번째 회사 입사, 처음 본 것 투성이 도메인 로직…","frontmatter":{"date":"September 05, 2023","title":"2023 이른 회고","categories":"diary","author":"유자","emoji":"🔬"},"fields":{"slug":"/05_2023_retrospect/"}},"next":{"id":"4583a193-1019-535d-b0e8-75359d2dfea5","html":"<p>작년에 회사에서 리뉴얼 프로젝트가 있었다. 기존 서비스에서 UI, 기능을 개선해 유저에게 새롭게 선보이는 것이었다. 프레임워크부터 다 새로 정할 수 있는 상황이었는데 팀장님께서 Vite를 써보자고 하셨다.\n당시에 Vite가 뭐지..? 하면서도 깊이 있게 찾아보지 않고 열심히 React 코드만 쳤던 기억이 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEw0lEQVQ4yz2S60/TdxSH+3fsH9grY+I2dRszm8wEDcNsGSZbjC+2JTMjqPMyuQwRGKU3CoUCbYG2QEEp10Jb6JW2FNqCUO4MrZepiWIiTMhApP09S3+6fZOT8+75Pud8jmRr4yXb6Xq5zs7W36SfIIiNVGqP/MvXOPJ5Np9k5vBhRhYHPjrOwcPHyTqdi1l2hYi+kommcubaFMSNVUggxdvaQeAF+8ITksltERiNTpKRmc3HmTki8IOMLDKOZXHoSCYHjpxAU3iFpQ4lMUMFCx1K4qYqJClhG0HY523fISVs8Sb1QgSqamo4cPRLjn6RzaHPTpH91Rlsahlnc7/n4Kcn+e6bM8RNcmZaK1nsUDJnrkIiCG9EoCBsiTBBEN4BkyjVtXybk0tp3i9UXsjDUFLASk87htJi3nv/MCdPnGKuTclMq5TFdgULbXIkKV4jCP8giIa7CEKKZGpXNJyZvYOqpISin35Efvki0rzzyC7mU3Ehn7Nf52IozGe1S/2/4aIIFCFpwz0EBFLCDknhFQJ7JN+8plujojLvPH0qKdqrl+iXlxNoUhA1KIgYpCx2qMTdpXeZtpSAQFLYZF9YJ5WGCvsiMG2+t7ODRV5GU+FVgnoNI7UKfPWV3DEpGdSqGFTfZMWiYtZUxWKH4j8gYiC7wn1SYji7pMSRt9l5vUFnnQLt9avcqpIyUq8k2FjOcIOCujo9A+pSVi1KZo1ScX8iMB1C+vD2hGeiWZK/RLskKV5uPseoq6ZTdoPbFSVMtWtw193A1lpLc7OJAWUJKxYlcbNMBM6bZWlg6t0hb7LHGs/Wl4nFnDjszVjapZSV/YxRVURj8UV6lAUEDFKG1IW0G0oZ1Vaw2CZjxiglbpTy1F7/dmSBJJuv1piaNuIYVmMblNNrLeNWZxEmUxHW5kpabl6jv7qYqFFNoL2SRw/aWQnqiDbeZM4sZd3dwFK3FMnCgpd4fAivuw77sAy/r45QsAmPW83oiAqvV8MtQzm6wl/priomZFXyIGHm8eN27t5rZd6v5ZFdg6+xgIJzp5C4XQpco3Kczir8vlomJ3REI81EJvUEA1q83mo6zEWYVL8x7lSSSBi5d8/I8qKeu6utJBIdzE3ouPxDDmdPH0MSCNQwEa7H61XhcSuJTOoIj+uZnmphKtpCNKInPK7G5SrH569iekrN/JyWP1f1rK2YWFs28vRJJ+FQDefPnUTS11vCiFNKujsdzQTGmhnztxAMWBnz1+NxtbE0FyESSX+ixevREh63MnPHTHy2ialYHw8SFjY2eug2X0cSiw7R063ENtiJ29WPbdDCeCiIx+1gyCanp7sOhz2M06FjednAmN+Dxx1gzD/I5IQDn9fLVMzK8+cdRMe1SGLhRUJjQcb8blyjA3RaNFi7WxkcuI3Xo8E+1IDT4WQ81Ec0YsA2MIjbFcTv68fruc3IyDDh8VYePmxhbdWCxG0Ps7xwl/k5O73WWvp6/8Bhb2Gg3yyOnL7HIVstfr+O6Wk9gbFGJifNBAL1uFy/Y7NVMzOjIZFo5n6iE4l/NMbSwirLy256rTcY6K9goE+G06EgFKzH76/G6ZARCmmIxbTE4w3Mz2uZmJDT1XUJn6+U2dla1tYMPHrYxb+ycZV+duyJMgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"what is this\"\n        title=\"what is this\"\n        src=\"/static/61d8dff617eb1466c151c94a928f5ac2/37523/09_what-is-this-edit.png\"\n        srcset=\"/static/61d8dff617eb1466c151c94a928f5ac2/e9ff0/09_what-is-this-edit.png 180w,\n/static/61d8dff617eb1466c151c94a928f5ac2/f21e7/09_what-is-this-edit.png 360w,\n/static/61d8dff617eb1466c151c94a928f5ac2/37523/09_what-is-this-edit.png 720w,\n/static/61d8dff617eb1466c151c94a928f5ac2/5a190/09_what-is-this-edit.png 800w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>지금이라도 Vite가 어떤 문제를 해결하기 위해 나왔고, 그 문제를 해결하기 위해 어떻게 했는지 알아보려고 한다.\n(공식 문서 가이드 중 <a href=\"https://vitejs.dev/guide/why.html\">Why Vite</a> 챕터를 참고해 작성되었습니다.)</p>\n<h2 id=\"해결하고자-한-문제점\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%9C-%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"해결하고자 한 문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결하고자 한 문제점</h2>\n<p>ES modules를 브라우저에서 사용하지 못하던 시절에 모듈화된 방식으로 자바스크립트를 작성하기 위한 기본(=native) 메카니즘이 없었다. 그래서 어느 브라우저에서나 돌아가는 모듈화된 앱을 만들기 위해 번들링을 하게 되었다.</p>\n<p>webpack, Rollup, Parcel과 같은 다양한 번들링 툴이 나왔고 프론트엔드 개발자들의 DX를 크게 향상시켜주었다.</p>\n<p>그러나, 우리가 좀 더 발전된 앱을 만들어 갈수록, 다루는 자바스크립트의 양도 기하급수적으로 증가했다. 규모가 큰 프로젝트에서 수천개의 모듈을 갖고 있는 것은 보통이었다.</p>\n<p>결국 위 툴들에 기반한 자바스크립트는 성능 문제에 부딪히기 시작했다. 개발 서버를 돌리거나, 파일을 수정하고 브라우저에 반영되기까지 꽤 긴 시간이 소요되었다.</p>\n<p>느린 속도는 개발자의 생산성에 큰 영향을 끼친다. Vite는 이것을 해결하고자 했다. 이제는 거의 모든 브라우저에서 ES modules를  지원한다는 것과, compile-to-native 언어 Go로 쓰여진 새로운 번들러 esbuild의 출현을 통해서 말이다.</p>\n<blockquote>\n<p>프랑스어로 vite은 quick을 뜻한다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6UlEQVQoz3VS0W7DIAzM///gqmra+t5lEC0UYxvfZGfLSKpZOiLw+TibTKodKREaKQyG3geYwfOqChHFkgnMCrO/vGPb9zibfCmrgbmHoNkRfi4iIVwroHLM952nwZmcfLu9g4jgMZI9WDhuZxa8XC7IywIWBVEDNT7AeZMv8zyjNd4Fx/D85kBwfX3D/WNGY0Gl9oRwOBb/ip2/HtHyT+HZmSME3aETmRkschA6t96YsZZH4FHpf4c+w1orvtb1qd3RZa2Ez5QDXiyq0fqImOGosf0u/QTb57g/FAtSykh5QSkl3PveO/0GwuR1KSYdf5UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vite translate\"\n        title=\"vite translate\"\n        src=\"/static/588b7cd1966174de3e432f23654be76e/1e043/10_vite-translate.png\"\n        srcset=\"/static/588b7cd1966174de3e432f23654be76e/e9ff0/10_vite-translate.png 180w,\n/static/588b7cd1966174de3e432f23654be76e/f21e7/10_vite-translate.png 360w,\n/static/588b7cd1966174de3e432f23654be76e/1e043/10_vite-translate.png 690w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"어떻게-해결했는가\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%96%88%EB%8A%94%EA%B0%80\" aria-label=\"어떻게 해결했는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 해결했는가</h2>\n<h3 id=\"느린-서버-시작-시간을-esbuild-와-native-esm을-사용해-해결\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%A6%B0-%EC%84%9C%EB%B2%84-%EC%8B%9C%EC%9E%91-%EC%8B%9C%EA%B0%84%EC%9D%84-esbuild-%EC%99%80-native-esm%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-%ED%95%B4%EA%B2%B0\" aria-label=\"느린 서버 시작 시간을 esbuild 와 native esm을 사용해 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느린 서버 시작 시간을 esbuild 와 native ESM을 사용해 해결</h3>\n<p>개발 서버가 처음 시작될 때, 서브되기 전까지 번들러는 열심히 전체 앱을 빌드한다.</p>\n<p>Vite는 앱의 모듈을 Dependencies와 Source code 두개의 카테고리로 나누어 개발 서버의 시작 시간을 단축시켰다.</p>\n<p>Dependencies는 개발하는 동안 자주 변경되지 않는 자바스크립트이다. 수백개의 모듈을 가진 컴포넌트 라이브러리같은 Dependency는 처리 비용이 많이 든다. 또 다양한 라이브러리를 사용하다보면 각 Dependency 마다 사용하는 모듈 포맷(ES modules나 commonJS)이 다를 수도 있다.</p>\n<p>그래서 Vite는 esbuild를 사용해 Dependencies를 미리 번들한다. esbuild는 위에서 작성한 바와 같이 Go로 작성되었고, 자바스크립트를 기반으로 한 번들러보다 10-100배 이상 빠르다. 이로써 처리 비용이 많이 드는 Dependencies를 미리, 좀 더 빨리 해치울 수 있고, 다양한 Dependencies가 쓰는 모듈 포맷을 맞추기 위해 신경쓸 필요가 없다.</p>\n<p>Source code는 JSX나 CSS와 같이 변환이 필요한, 자주 수정될 수 있는 자바스크립트이다. 그리고 모든 Source code가 한번에 불러와질 필요는 없다.</p>\n<p>Vite는 Source code를 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\">native ESM</a>을 사용해 제공한다. 브라우저에게 번들러 작업의 일부를 하게 한 것이다. Vite는 브라우저가 요청할 때만 소스코드를 제공한다. Route를 기반으로 동적 imports가 처리되기 때문에 실제 유저가 보고 있는 화면만 그때 그때 처리된다.</p>\n<h3 id=\"느린-업데이트를-native-esm과-http-헤더를-활용해-해결\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%A6%B0-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EB%A5%BC-native-esm%EA%B3%BC-http-%ED%97%A4%EB%8D%94%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4-%ED%95%B4%EA%B2%B0\" aria-label=\"느린 업데이트를 native esm과 http 헤더를 활용해 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느린 업데이트를 native ESM과 HTTP 헤더를 활용해 해결</h3>\n<p>업데이트 속도는 앱 크기에 따라 선형적으로 저하된다. 때문에 번들러 기반 빌드 셋업에서 파일이 수정될 때, 전체 번들을 다시 빌드하는 것은 효율적이지 않다.</p>\n<p>어떤 번들러에서는, 개발 서버가 메모리에서 번들링을 실행한다. 그래서 파일에 변경점이 있을 때, 모듈 그래프의 한 부분을 비활성화하면 된다. 하지만 이것 역시 전체 번들을 재구성하고 웹페이지를 다시 불러와야 한다.\n번들을 재구성하는데 비용이 많이 들 수 있으며 페이지를 다시 로드하면 앱의 현재 상태가 사라진다.</p>\n<p>이것이 번들러들이 HMR(Hot Module Replacement)를 지원하는 이유이다. (HMR: 다른 페이지에 영향을 주지 않으면서 모듈 자체의 빠른 교체를 가능하게 하는 것)</p>\n<p>HMR은 DX를 크게 향상시킨다. 그러나 실제로 Vite 팀은 앱 사이즈가 커질수록 HMR의 업데이트 속도 또한 함께 떨어지는 것을 발견했다.</p>\n<p>그래서 Vite 에서는 HMR이 native ESM 기반으로 실행되게 했다. 파일이 수정됐을때, Vite는 수정된 모듈과 가장 가까운 HMR 바운더리의 연결고리만 비활성화시킨다. 이것으로 앱의 크기와 상관없이 HMR 업데이트를 빠르게 만들어준다. (여기서 정확히 어떤 로직으로 동작하는지 좀 더 찾아봐야할 것 같다.)</p>\n<p>또 Vite는 HTTP 헤더를 활용해 전체 페이지 리로드 속도를 향상시켰다. 소스코드 모듈 요청은 <code class=\"language-text\">304:Not Modified</code>를 통해 조건부 처리되며, 디펜던시 모듈 요청은 <code class=\"language-text\">Cache-Control: max-age=31536000, immutable</code> 을 통해 캐시되게 해 한번 캐시되면 서버에 다시 요청하지 않는다.</p>\n<h2 id=\"vite-뭐-되는구나-개발자한테\" style=\"position:relative;\"><a href=\"#vite-%EB%AD%90-%EB%90%98%EB%8A%94%EA%B5%AC%EB%82%98-%EA%B0%9C%EB%B0%9C%EC%9E%90%ED%95%9C%ED%85%8C\" aria-label=\"vite 뭐 되는구나 개발자한테 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vite 뭐 되는구나 개발자한테</h2>\n<p>Vite는 DX 향상을 위한 즉 개발자를 위한 툴이라는 것을 느꼈다.\n실제로 사용해 봤을 때, 로컬에서 매우 빠르게 실행되는 것을 체감했고 수정 사항도 빠릿빠릿하게 반영되었다.</p>\n<p>Production에서는 여전히 번들링 툴을 사용하고 있는데, 그 이유는 ES modules 사용 시에 중첩된 imports로 인한 네트워크 요청이 불필요하게 생길 수 있기 때문이다. Production에서 최적의 성능을 얻기 위해서는 아직까진 tree-shaking, lazy-loading, common chunk splitting을 하는 것이 효과적이라고 한다.</p>\n<p>그렇다면 Production에서 번들링할 때 왜 esbuild를 쓰지 않는 것일까?\n그 이유는 esbuild 자체적으로 아직 완벽하지 않기 때문이다. esbuild는 여전히 개발 중인 피쳐가 있는 상황이다. (code-splitting, CSS handling 등)</p>\n<p>그리하여 현재 Vite팀은 <a href=\"https://rollupjs.org/guide/en/\">Rollup</a> 이라는 툴을 Production 번들러로 사용하고 있다.</p>\n<h2 id=\"ref\" style=\"position:relative;\"><a href=\"#ref\" aria-label=\"ref permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ref</h2>\n<ul>\n<li><a href=\"https://vitejs.dev/guide/why.html\">https://vitejs.dev/guide/why.html</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%ED%95%B4%EA%B2%B0%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%9C-%EB%AC%B8%EC%A0%9C%EC%A0%90\">해결하고자 한 문제점</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%96%88%EB%8A%94%EA%B0%80\">어떻게 해결했는가</a></p>\n<ul>\n<li><a href=\"#%EB%8A%90%EB%A6%B0-%EC%84%9C%EB%B2%84-%EC%8B%9C%EC%9E%91-%EC%8B%9C%EA%B0%84%EC%9D%84-esbuild-%EC%99%80-native-esm%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-%ED%95%B4%EA%B2%B0\">느린 서버 시작 시간을 esbuild 와 native ESM을 사용해 해결</a></li>\n<li><a href=\"#%EB%8A%90%EB%A6%B0-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EB%A5%BC-native-esm%EA%B3%BC-http-%ED%97%A4%EB%8D%94%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4-%ED%95%B4%EA%B2%B0\">느린 업데이트를 native ESM과 HTTP 헤더를 활용해 해결</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#vite-%EB%AD%90-%EB%90%98%EB%8A%94%EA%B5%AC%EB%82%98-%EA%B0%9C%EB%B0%9C%EC%9E%90%ED%95%9C%ED%85%8C\">Vite 뭐 되는구나 개발자한테</a></p>\n</li>\n<li>\n<p><a href=\"#ref\">ref</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"April 10, 2022","title":"Vite 너 뭐 돼?","categories":"challenge","author":"유자","emoji":"⚡️"},"fields":{"slug":"/04_vite_intro/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://www.yuzaalist.dev","comments":{"utterances":{"repo":"Youn-Ji/yuzaalist.dev"}}}}},"pageContext":{"slug":"/05_2023_retrospect/","nextSlug":"/04_vite_intro/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","712016698"]}